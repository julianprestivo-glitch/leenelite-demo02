document.addEventListener('DOMContentLoaded', () => { const navLinks = document.querySelectorAll('.side-nav a'); const sections = document.querySelectorAll('section'); function onScroll() { const scrollPosition = window.scrollY + window.innerHeight / 2; sections.forEach((section, index) => { const top = section.offsetTop; const bottom = top + section.offsetHeight; if (scrollPosition >= top && scrollPosition < bottom) { navLinks.forEach(link => link.classList.remove('active')); if (navLinks[index]) navLinks[index].classList.add('active'); } }); } window.addEventListener('scroll', onScroll); onScroll(); const hero = document.querySelector('#hero'); if (hero) { const slidesData = hero.dataset.slides; if (slidesData) { try { const slides = JSON.parse(slidesData); let current = 0; const headingEl = hero.querySelector('.hero-heading'); const subtitleEl = hero.querySelector('.hero-subtitle'); if (headingEl) headingEl.setAttribute('aria-live', 'polite'); if (subtitleEl) subtitleEl.setAttribute('aria-live', 'polite'); function updateSlide() { const slide = slides[current]; hero.style.backgroundImage = `url('${slide.image}')`; if (headingEl) headingEl.textContent = slide.title; if (subtitleEl) subtitleEl.textContent = slide.subtitle; } updateSlide(); setInterval(() => { current = (current + 1) % slides.length; updateSlide(); }, 6000); } catch (err) { console.error('Failed to parse hero slides:', err); } } } const contactForm = document.querySelector('.contact-form'); if (contactForm) { contactForm.addEventListener('submit', event => { event.preventDefault(); alert('Thank you! We will be in touch soon.'); contactForm.reset(); }); } const intro = document.getElementById('intro-logo'); if (intro) { setTimeout(() => { intro.classList.add('hide'); setTimeout(() => { if (intro && intro.parentNode) { intro.parentNode.removeChild(intro); } }, 1500); }, 2000); } const fadeSections = document.querySelectorAll('.section-fade'); const sectionObserver = new IntersectionObserver(entries => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); sectionObserver.unobserve(entry.target); } }); }, { threshold: 0.1 }); fadeSections.forEach(sec => sectionObserver.observe(sec)); document.addEventListener('contextmenu', event => { event.preventDefault(); }); document.addEventListener('keydown', event => { const key = event.key.toLowerCase(); if (key === 'f12' || (event.ctrlKey && event.shiftKey && key === 'i') || (event.ctrlKey && key === 'u')) { event.preventDefault(); return false; } }); }); ['copy','cut','paste','dragstart','drop','selectstart'].forEach(evt => { document.addEventListener(evt, e => { const tag = (e.target && e.target.tagName) ? e.target.tagName.toLowerCase() : ''; if (tag === 'input' || tag === 'textarea') return; e.preventDefault(); }, {passive:false}); }); document.addEventListener('keydown', e => { const k = e.key.toLowerCase(); if ((e.ctrlKey || e.metaKey) && ['c','p','s','u','x','a'].includes(k)) { e.preventDefault(); } if (k === 'printscreen') { e.preventDefault(); } }); window.addEventListener('contextmenu', e => e.preventDefault()); document.querySelectorAll('img').forEach(img => { img.setAttribute('draggable','false'); }); if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('../sw.js').catch(()=>{}); }); }